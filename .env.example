# IAM Copilot Environment Configuration
# Copy this file to .env and fill in your values

# ======================
# AWS Configuration
# ======================
# AWS Credentials (Optional - use IAM roles in production)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_SESSION_TOKEN=

# AWS Region
AWS_REGION=us-east-1

# ======================
# Database Configuration
# ======================
DB_PASSWORD=devpassword

# Full database URL (auto-constructed from above)
DATABASE_URL=postgresql://admin:devpassword@db:5432/iam_copilot

# ======================
# Redis Configuration
# ======================
REDIS_URL=redis://redis:6379/0

# ======================
# Application Settings
# ======================
ENVIRONMENT=production
DEBUG=false

# ======================
# Google OAuth
# ======================
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=https://api.iam-copilot.com/api/v1/auth/google/callback

# ======================
# Amazon Bedrock
# ======================
BEDROCK_MODEL_ID=anthropic.claude-3-5-sonnet-20241022-v2:0
BEDROCK_MAX_TOKENS=4096
BEDROCK_TEMPERATURE=0.0

# ======================
# API Configuration
# ======================
API_V1_PREFIX=/api/v1

# CORS Origins - For production, use your actual domains
# Development:
# CORS_ORIGINS=http://localhost:3000,http://localhost:8000
# Production (example with custom domain):
CORS_ORIGINS=https://iam-copilot.com,https://api.iam-copilot.com

# ======================
# Frontend Configuration
# ======================
# Development:
# VITE_API_URL=http://localhost:8000
# VITE_GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
# Production (example with custom domain):
VITE_API_URL=https://api.iam-copilot.com
VITE_GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com

# ======================
# Security & Rate Limiting
# ======================
# Secret key for encrypting AWS credentials (generate with: openssl rand -hex 32)
SECRET_KEY=change-me-in-production-use-openssl-rand-hex-32

# Cookie domain for cross-subdomain authentication
# Use .yourdomain.com (with leading dot) to share cookies across subdomains
# Leave empty for localhost development
COOKIE_DOMAIN=

RATE_LIMIT_PER_SECOND=5

# ======================
# Deployment Notes
# ======================
# For production:
# 1. Set strong DB_PASSWORD
# 2. Set secure SECRET_KEY (use: openssl rand -hex 32)
# 3. Use IAM roles instead of AWS credentials where possible
# 4. Set ENVIRONMENT=production
# 5. Update CORS_ORIGINS with your domain
# 6. Enable SSL/TLS
# 7. Use AWS Secrets Manager or similar for sensitive values
